"use strict";angular.module("myApp.user",["ui.router","myApp.userService"]).config(["$stateProvider","$urlRouterProvider",function(a,b){a.state("user",{url:"/user",templateUrl:"views/user/user.html",controller:"UserCtrl"})}]).controller("UserCtrl",["$scope","userService",function(a,b){"ngInject";a.user={},a.user=b.getLocalUser(),a.updateUser=function(){a.updateUserForm.$valid?(console.log("user object for update="+JSON.stringify(a.user)),b.updateUser(a.user).then(function(a){b.setLocalUser(a.data.user,!0)},function(a){console.log("Failure:"+JSON.stringify(a))})):alert("A valid email address is required")},a.$on("USER_CHANGE_EVENT",function(){a.user=b.getLocalUser()})}]);