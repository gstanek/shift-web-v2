"use strict";angular.module("ShiftOnTapApp").config(["$stateProvider","$urlRouterProvider",function(a){a.state("persona",{url:"/persona",templateUrl:"views/persona/persona.html",controller:"PersonaCtrl"})}]).controller("PersonaCtrl",["$scope","$uibModal","commonService","shiftService","userService","realmService",function(a,b,c,d,e,f){"ngInject";a.$on("PERSONA_DISPLAY_STATE_CHANGE_EVENT",function(b,c){a.personaDisplayState=c}),a.$on("SHIFT_CHANGE_EVENT",function(b,c){a.availableShifts=c}),a.$on("COWORKER_CHANGE_EVENT",function(b,c){a.coworkers=c});var g=function(){a.coworkers=e.getLocalCoworkers(),a.personaDisplayState=c.getLocalPersonaDisplayState(),a.availableShifts=d.getLocalShifts(),a.getBestDisplayName=function(a){return a.preferred_name?a.preferred_name+" "+a.last_name:a.first_name+" "+a.last_name},a.activeUser=e.getLocalUser()};g(),a.addShiftModal={instance:null},a.errorObj={detail:"",code:0},a.openAddShiftModal=function(){a.errorObj.detail="",a.errorObj.code=0,a.addShiftModal.instance=b.open({animation:!0,template:'<shift-modal modal="addShiftModal" error-obj="errorObj"></shift-modal>',scope:a})},a.addUsersModal={instance:null},a.openAddUsersModal=function(){a.addUsersModal.instance=b.open({animation:!0,template:'<add-users-modal modal="addUsersModal"></add-users-modal>',scope:a})}}]);