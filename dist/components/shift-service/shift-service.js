angular.module("myApp.shiftService",["LocalStorageModule"]).service("shiftService",["$rootScope","localStorageService",function(a,b){var c={userID:"123456",firstName:"Gabe",lastName:"Stanek",preferredName:"G-Money",email:"gabe.stanek@gmail.com",realmID:"8900"};this.getAvailableShiftsByUserID=function(a){var b=[];if(null!=c.persona)for(var d=c.persona.shifts,e=0;e<d.length;e++)1==d[e].available&&b.push(d[e]);return b},this.getShiftsByUserID=function(a){return null!=c.persona&&(f=c.persona.shifts),f},this.getAvailableShiftsByRealmID=function(a){var b=[];if(null!=c.persona)for(var d=c.persona.shifts,e=0;e<d.length;e++)1==d[e].available&&b.push(d[e]);return b},this.getShiftsByRealmID=function(a){var b=[];return null!=c.persona&&(b=c.persona.shifts),b},this.getAvailableShiftsByPersonaID=function(a){for(var b={},c=this.getActiveShifts(),d=0;d<c.length;d++)a==shift.userID+"-"+shift.realmID&&1==shift.available&&b.push(shift);return b},this.getShiftsByPersonaID=function(a){var b=this.getActiveShifts();if(!b)return e;for(var c=0;c<b.length;c++)a==b[c].userID+"-"+b[c].realmID&&e.push(b[c]);return e};var d=[],e=[],f=[];this.getShifts=function(){var a=this.getActiveShifts();return a?d=a:d};this.storeShift=function(c){console.log("store shift = "+JSON.stringify(c)),d=this.getActiveShifts(),d||(d=[]),d.push(c),console.log("Shifts Set:"+JSON.stringify(d)),b.set("shifts",d),a.$broadcast("SHIFT_CHANGE_EVENT",d)},this.getActiveShifts=function(){var a=b.get("shifts");return a},this.getShiftsByPersonaID=function(a){return b.get("shifts")},this.removeShifts=function(){b.remove("shifts"),a.$broadcast("SHIFT_CHANGE_EVENT")}}]);