angular.module("myApp.userService",["LocalStorageModule"]).service("userService",["$rootScope","localStorageService","$http","commonService",function(a,b,c,d){this.updateUser=function(a){return c({method:"PATCH",url:"http://127.0.0.1:8000/api/v1/user/"+a.email,headers:{"Content-Type":"application/json"},data:a})},this.createUsers=function(a){return c({method:"POST",url:"http://127.0.0.1:8000/api/v1/user/bulk",headers:{"Content-Type":"application/json"},data:a})},this.getBestDisplayName=function(){var a=this.getLocalUser();return a?a.preferred_name?a.preferred_name:a.first_name?a.first_name:a.email?a.email:"Guest":""},this.addLocalCoworkers=function(c,e){var f=b.get("coworkers");if(null!=f){for(var g=c.length,h=0;g>h;h++)f.push(c[h]);b.set("coworkers",f)}else b.set("coworkers",c);a.$broadcast("USER_CHANGE_EVENT",c),e&&d.setPersonaDisplayState()},this.setLocalCoworkers=function(c,e){b.set("coworkers",c),a.$broadcast("USER_CHANGE_EVENT",c),e&&(console.log("Update Persona Display State persona state update"),d.setPersonaDisplayState())},this.getLocalCoworkers=function(){return b.get("coworkers")},this.removeLocalCoworkers=function(){b.remove("coworkers"),a.$broadcast("USER_CHANGE_EVENT",null),d.setPersonaDisplayState()},this.setLocalUser=function(c,e){b.set("user",c),a.$broadcast("USER_CHANGE_EVENT",c),e&&d.setPersonaDisplayState()},this.getLocalUser=function(){return b.get("user")},this.removeLocalUser=function(c){b.remove("user"),a.$broadcast("USER_CHANGE_EVENT",null),c&&d.setPersonaDisplayState()}}]);