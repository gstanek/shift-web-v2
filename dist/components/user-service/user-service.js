angular.module("myApp.userService",["LocalStorageModule"]).service("userService",["$rootScope","localStorageService","$http",function(a,b,c){var d={userID:"123456",firstName:"",lastName:"",preferredName:"",email:"",persona:{personaID:"56789",roles:["user","admin"],realm:{realmID:"8900",realmName:""}}};this.updateUser=function(a){return c({method:"PATCH",url:"http://127.0.0.1:8000/api/v1/user/"+a.email,headers:{"Content-Type":"application/json"},data:a})},this.getBestDisplayName=function(){return d=this.getActiveUser(),d?d.preferred_name?d.preferred_name:d.first_name?d.first_name:d.email?d.email:"Guest":""},this.getUserByEmail=function(a){return c({method:"GET",url:"http://127.0.0.1:8000/api/v1/user/"+a,headers:{"Content-Type":"application/json"}})},this.setActiveUser=function(c){b.set("user",c),a.$broadcast("USER_CHANGE_EVENT",c)},this.getActiveUser=function(){return b.get("user")},this.removeActiveUser=function(){b.remove("user"),a.$broadcast("USER_CHANGE_EVENT",d)}}]);