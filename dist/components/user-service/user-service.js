angular.module("myApp.userService",["LocalStorageModule"]).service("userService",["$rootScope","localStorageService",function(a,b){var c={shiftID:"1616",starttime:"01/29/16 01:30:00",endtime:"01/29/16 04:30:00",available:!0,realmID:"8900",userID:"123456"},d={shiftID:"1617",starttime:"01/30/16 01:30:00",endtime:"01/30/16 04:30:00",available:!1,realmID:"8900",userID:"123456"},e={userID:"123456",firstName:"Gabe",lastName:"Stanek",preferredName:"G-Money",email:"gabe.stanek@gmail.com",persona:{personaID:"56789",roles:["user","admin"],realm:{realmID:"8900",realmName:"Joe's Pizza"},shifts:[c,d]}};this.getBestDisplayName=function(){return null!=e.preferredName?e.preferredName:null!=e.firstName?e.firstName:null!=e.email?e.email:"Guest"},this.getAvailableShifts=function(){var a=[];if(null!=e.persona)for(var b=e.persona.shifts,c=0;c<b.length;c++)1==b[c].available&&a.push(b[c]);return a},this.getShifts=function(){var a=[];return null!=e.persona&&(a=e.persona.shifts),a},this.setActiveUser=function(c){b.set("user",c),a.$broadcast("USER_CHANGE_EVENT",c)},this.getActiveUser=function(){return b.get("user")},this.removeActiveUser=function(){b.remove("user"),a.$broadcast("USER_CHANGE_EVENT",e)}}]);