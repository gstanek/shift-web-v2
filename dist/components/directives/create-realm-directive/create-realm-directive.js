angular.module("ShiftOnTapApp").directive("createRealmDirective",["realmService","userService","commonService","personaService",function(a,b,c,d){return{scope:{realmInfo:"=createRealmModel"},templateUrl:"components/directives/create-realm-directive/create-realm.html",link:function(c,e,f,g){c.isActiveRealm=a.isActiveRealm(),c.radioModel="employee",c.createRealm=function(){var e=(b.getLocalUser().id,{name:c.newRealmFormModel.name,address:c.address});a.createRealm(e).then(function(c){var f=c.data.realm;e.id=f.id,a.setLocalRealm(f,!0),d.setLocalPersona(c.data.persona,!1),b.setLocalUser(f.users[0],!0),a.getRealmsByUser().then(function(b){a.setLocalRealms(b.data)},function(a){})},function(a){})},c.newRealmFormModel={name:"",address:"",manager:""},c.address={}}}}]);