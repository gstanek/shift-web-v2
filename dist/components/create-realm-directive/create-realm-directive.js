angular.module("myApp.createRealmDirective",[]).directive("createRealmDirective",["realmService","userService","commonService",function(a,b,c){return{scope:{realmInfo:"=createRealmModel"},templateUrl:"components/create-realm-directive/create-realm.html",link:function(d,e,f,g){d.isActiveRealm=a.isActiveRealm(),d.radioModel="employee",d.createRealm=function(){var e=(b.getLocalUser().id,{name:d.newRealmFormModel.name,address:d.address});a.createRealm(e).then(function(b){e.id=b.data.id,console.log("Realm to Store in Local Storage"+JSON.stringify(e)),a.setLocalRealm(e,!0),c.setPersonaDisplayState()},function(a){console.log("Error creating realm in backend")})},d.$watchCollection("checkModel",function(){d.checkResults=[],angular.forEach(d.checkModel,function(a,b){a&&d.checkResults.push(b)})}),d.newRealmFormModel={name:"",address:"",manager:""},d.address={}}}}]);